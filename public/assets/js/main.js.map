{"version":3,"sources":["01_global.js","02_fetch.js","03_render.js","04_handler.js","05_localStorage.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["\"use strict\";\n\nconst inputSearch = document.querySelector(\".js-input-search\");\nconst submitBtn = document.querySelector(\".js-submit-btn\");\nconst resetBtn = document.querySelector(\".js-reset-btn\");\nconst searchResults = document.querySelector(\".js-result-list\");\nconst resetBtnFav = document.querySelector(\".js-reset-btn-fav\");\nconst favResults = document.querySelector(\".js-fav-list\");\nconst errorMessage = document.querySelector(\".js_errorMessage\");\n\nlet animes = [];\nlet favAnimes = [];\n","\"use strict\";\n\nfunction getUserInput(ev) {\n  ev.preventDefault();\n  fetch(`https://api.jikan.moe/v3/search/anime?q=${inputSearch.value}`)\n    .then((response) => response.json())\n    .then((animesData) => {\n      animes = animesData.results;\n      renderResults();\n    });\n}\n\nfunction handlerResetBtnFav(ev) {\n  ev.preventDefault();\n  localStorage.clear();\n  favResults.innerHTML = \"\";\n}\n\nfunction handlerResetBtn(ev) {\n  ev.preventDefault();\n  location.reload();\n}\n\nsubmitBtn.addEventListener(\"click\", getUserInput);\n\nresetBtn.addEventListener(\"click\", handlerResetBtn);\n\nresetBtnFav.addEventListener(\"click\", handlerResetBtnFav);\n","\"use strict\";\n\nfunction renderResults() {\n  searchResults.innerHTML = \"\";\n  for (const anime of animes) {\n    searchResults.innerHTML += `<li class='li-element js-li-element' id='${\n      anime.mal_id\n    }'><img class='anime-img' src='${\n      anime.image_url ||\n      \"https://via.placeholder.com/210x295/ffffff/666666/?text=TV\"\n    }'><h3 class='anime-title'>${anime.title}</h3></li>`;\n  }\n  //compareFavResults()\n  handlerClickedAnime();\n}\n\n/*function compareFavResults() {\n const lisSelected = document.querySelectorAll(\".js-li-element\");\n  for (const liSelected of lisSelected) {\n    const isFav = favAnimes.find((fav) => fav.mal_id === liSelected.id);\n    console.log(fav.mal_id);\n  if (isFav === undefined) {\n    liSelected.classList.remove(\"fav\");\n  } else {\n    liSelected.classList.add(\"fav\");\n  }\n  } \n}*/\n\nfunction renderFavResults() {\n  favResults.innerHTML = \"\";\n  for (let i = 0; i < favAnimes.length; i++) {\n    const favAnime = favAnimes[i];\n    favResults.innerHTML += `<li class='li-element js-li-element' id='${\n      favAnime.mal_id\n    }'><img class='anime-img' src='${\n      favAnime.image_url ||\n      \"https://via.placeholder.com/210x295/ffffff/666666/?text=TV\"\n    }'><h3 class='anime-title'>${\n      favAnime.title\n    }</h3><i class=\"fas fa-times\"></i></li>`;\n  }\n  handlerClickedAnime();\n}\n","\"use strict\";\n\nfunction handlerClickedFav(ev) {\n  ev.preventDefault();\n  const clickedAnime = parseInt(ev.currentTarget.id);\n  const favClicked = favAnimes.findIndex((fav) => {\n    return fav.mal_id === clickedAnime;\n  });\n  if (favClicked === -1) {\n    const animeAdd = animes.find((animeElement) => {\n      return animeElement.mal_id === clickedAnime;\n    });\n    favAnimes.push(animeAdd);\n  } else {\n    favAnimes.splice(favClicked, 1);\n  }\n  renderFavResults();\n  //renderResults();\n  setInLocalStorage();\n}\n\nfunction handlerClickedAnime() {\n  const animesListened = document.querySelectorAll(\".js-li-element\");\n  for (const animeListened of animesListened) {\n    animeListened.addEventListener(\"click\", handlerClickedFav);\n  }\n}\n","\"use strict\";\n\nfunction setInLocalStorage() {\n  const toString = JSON.stringify(favAnimes);\n  localStorage.setItem(\"anime\", toString);\n}\n\nfunction getInLocalStorage() {\n  const localStorageFavAnimes = localStorage.getItem(\"anime\");\n  favAnimes = JSON.parse(localStorageFavAnimes);\n  if (favAnimes === null) {\n    favAnimes = [];\n  } else {\n    renderFavResults();\n  }\n}\ngetInLocalStorage();\n"]}